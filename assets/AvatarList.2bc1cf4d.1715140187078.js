import{d as L,G as k,V as F,od as X,H as Y,a3 as Z,aj as J,z as R,aQ as N,o as U,W as H,a5 as i,f as v,Y as g,oe as ee,Z as ae,of as te,a1 as re,ak as ne,_ as se,b as W,h as $,F as oe,i as le,c as ie,K as ce,l as ue}from"./index-6388fb42.js";import{u as ve}from"./useBreakpoint.653f3191.1715140187078.js";import{e as fe}from"./eagerComputed.06b7438b.1715140187078.js";var de=function(){return{prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:function(){return"default"}},src:String,srcset:String,icon:ae.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}},me=L({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:de(),slots:["icon"],setup:function(e,x){var p=x.slots,n=x.attrs,c=k(!0),_=k(!1),h=k(1),l=k(null),S=k(null),E=F("avatar",e),y=E.prefixCls,j=X(),s=Y(function(){return e.size==="default"?j.value:e.size}),O=ve(),f=fe(function(){if(Z(e.size)==="object"){var a=J.find(function(r){return O.value[r]}),t=e.size[a];return t}}),T=function(t){return f.value?{width:"".concat(f.value,"px"),height:"".concat(f.value,"px"),lineHeight:"".concat(f.value,"px"),fontSize:"".concat(t?f.value/2:18,"px")}:{}},d=function(){if(!(!l.value||!S.value)){var t=l.value.offsetWidth,r=S.value.offsetWidth;if(t!==0&&r!==0){var u=e.gap,b=u===void 0?4:u;b*2<r&&(h.value=r-b*2<t?(r-b*2)/t:1)}}},P=function(){var t=e.loadError,r=t==null?void 0:t();r!==!1&&(c.value=!1)};return R(function(){return e.src},function(){N(function(){c.value=!0,h.value=1})}),R(function(){return e.gap},function(){N(function(){d()})}),U(function(){N(function(){d(),_.value=!0})}),function(){var a,t,r=e.shape,u=e.src,b=e.alt,M=e.srcset,w=e.draggable,D=e.crossOrigin,C=H(p,e,"icon"),m=y.value,V=(a={},i(a,"".concat(n.class),!!n.class),i(a,m,!0),i(a,"".concat(m,"-lg"),s.value==="large"),i(a,"".concat(m,"-sm"),s.value==="small"),i(a,"".concat(m,"-").concat(r),r),i(a,"".concat(m,"-image"),u&&c.value),i(a,"".concat(m,"-icon"),C),a),q=typeof s.value=="number"?{width:"".concat(s.value,"px"),height:"".concat(s.value,"px"),lineHeight:"".concat(s.value,"px"),fontSize:C?"".concat(s.value/2,"px"):"18px"}:{},G=(t=p.default)===null||t===void 0?void 0:t.call(p),A;if(u&&c.value)A=v("img",{draggable:w,src:u,srcset:M,onError:P,alt:b,crossorigin:D},null);else if(C)A=C;else if(_.value||h.value!==1){var I="scale(".concat(h.value,") translateX(-50%)"),K={msTransform:I,WebkitTransform:I,transform:I},Q=typeof s.value=="number"?{lineHeight:"".concat(s.value,"px")}:{};A=v(ee,{onResize:d},{default:function(){return[v("span",{class:"".concat(m,"-string"),ref:l,style:g(g({},Q),K)},[G])]}})}else A=v("span",{class:"".concat(m,"-string"),ref:l,style:{opacity:0}},[G]);return v("span",g(g({},n),{},{ref:S,class:V,style:[q,T(!!C),n.style]}),[A])}}});const z=me;var ge=function(){return{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"}}},pe=L({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:ge(),setup:function(e,x){var p=x.slots,n=x.attrs,c=F("avatar-group",e),_=c.prefixCls,h=c.direction;return te(e),function(){var l,S=e.maxPopoverPlacement,E=S===void 0?"top":S,y=e.maxCount,j=e.maxStyle,s=e.maxPopoverTrigger,O=s===void 0?"hover":s,f=(l={},i(l,_.value,!0),i(l,"".concat(_.value,"-rtl"),h.value==="rtl"),i(l,"".concat(n.class),!!n.class),l),T=H(p,e),d=re(T).map(function(r,u){return ne(r,{key:"avatar-key-".concat(u)})}),P=d.length;if(y&&y<P){var a=d.slice(0,y),t=d.slice(y,P);return a.push(v(se,{key:"avatar-popover-key",content:t,trigger:O,placement:E,overlayClassName:"".concat(_.value,"-popover")},{default:function(){return[v(z,{style:j},{default:function(){return["+".concat(P-y)]}})]}})),v("div",g(g({},n),{},{class:f,style:n.style}),[a])}return v("div",g(g({},n),{},{class:f,style:n.style}),[d])}}});const B=pe;z.Group=B;z.install=function(o){return o.component(z.name,z),o.component(B.name,B),o};const ye={class:"avatar-list"},xe=L({__name:"AvatarList",props:{source:Array,size:{type:Number,default:22,required:!1}},setup(o){return(e,x)=>{const p=z;return W(),$("div",ye,[(W(!0),$(oe,null,le(o.source,(n,c)=>(W(),ie(p,{style:ce(`margin-left: -${o.size/2}px`),size:o.size,key:c,src:n.avatar},null,8,["style","size","src"]))),128))])}}});const Pe=ue(xe,[["__scopeId","data-v-2ea8cb8f"]]);export{Pe as A};
//# sourceMappingURL=AvatarList.2bc1cf4d.1715140187078.js.map
